[debug] [2022-11-04T14:56:39.312Z] ----------------------------------------------------------------------
[debug] [2022-11-04T14:56:39.314Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2022-11-04T14:56:39.315Z] CLI Version:   10.7.1
[debug] [2022-11-04T14:56:39.316Z] Platform:      darwin
[debug] [2022-11-04T14:56:39.316Z] Node Version:  v16.13.1
[debug] [2022-11-04T14:56:39.317Z] Time:          Fri Nov 04 2022 10:56:39 GMT-0400 (Eastern Daylight Time)
[debug] [2022-11-04T14:56:39.318Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-11-04T14:56:39.443Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-11-04T14:56:39.445Z] > authorizing via signed-in user (stntsai93@gmail.com)
[debug] [2022-11-04T14:56:39.445Z] [iam] checking project vision-zero-606ac for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2022-11-04T14:56:39.448Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/vision-zero-606ac:testIamPermissions [none]
[debug] [2022-11-04T14:56:39.449Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/vision-zero-606ac:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2022-11-04T14:56:39.665Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/vision-zero-606ac:testIamPermissions 200
[debug] [2022-11-04T14:56:39.667Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/vision-zero-606ac:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2022-11-04T14:56:39.668Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/vision-zero-606ac/serviceAccounts/vision-zero-606ac@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2022-11-04T14:56:39.669Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/vision-zero-606ac/serviceAccounts/vision-zero-606ac@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2022-11-04T14:56:39.810Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/vision-zero-606ac/serviceAccounts/vision-zero-606ac@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2022-11-04T14:56:39.812Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/vision-zero-606ac/serviceAccounts/vision-zero-606ac@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2022-11-04T14:56:39.813Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac [none]
[debug] [2022-11-04T14:56:40.125Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac 200
[debug] [2022-11-04T14:56:40.125Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac {"projectId":"vision-zero-606ac","projectNumber":"99095937222","displayName":"Vision Zero","name":"projects/vision-zero-606ac","resources":{"hostingSite":"vision-zero-606ac","storageBucket":"vision-zero-606ac.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_97e4df63-bf19-4700-be33-537583b249ad"}
[info] 
[info] === Deploying to 'vision-zero-606ac'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2022-11-04T14:56:40.128Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac [none]
[debug] [2022-11-04T14:56:40.534Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac 200
[debug] [2022-11-04T14:56:40.535Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac {"projectId":"vision-zero-606ac","projectNumber":"99095937222","displayName":"Vision Zero","name":"projects/vision-zero-606ac","resources":{"hostingSite":"vision-zero-606ac","storageBucket":"vision-zero-606ac.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_97e4df63-bf19-4700-be33-537583b249ad"}
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2022-11-04T14:56:40.536Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudfunctions.googleapis.com [none]
[debug] [2022-11-04T14:56:40.538Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/runtimeconfig.googleapis.com [none]
[debug] [2022-11-04T14:56:40.539Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudbuild.googleapis.com [none]
[debug] [2022-11-04T14:56:40.540Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/artifactregistry.googleapis.com [none]
[debug] [2022-11-04T14:56:40.941Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudbuild.googleapis.com 200
[debug] [2022-11-04T14:56:40.941Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2022-11-04T14:56:40.948Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudfunctions.googleapis.com 200
[debug] [2022-11-04T14:56:40.948Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2022-11-04T14:56:40.952Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/runtimeconfig.googleapis.com 200
[debug] [2022-11-04T14:56:40.952Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/runtimeconfig.googleapis.com [omitted]
[debug] [2022-11-04T14:56:40.955Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/artifactregistry.googleapis.com 200
[debug] [2022-11-04T14:56:40.955Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/artifactregistry.googleapis.com [omitted]
[debug] [2022-11-04T14:56:40.957Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac/adminSdkConfig [none]
[debug] [2022-11-04T14:56:41.222Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac/adminSdkConfig 200
[debug] [2022-11-04T14:56:41.223Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac/adminSdkConfig {"projectId":"vision-zero-606ac","storageBucket":"vision-zero-606ac.appspot.com","locationId":"us-central"}
[debug] [2022-11-04T14:56:41.223Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/vision-zero-606ac/configs [none]
[debug] [2022-11-04T14:56:41.520Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/vision-zero-606ac/configs 200
[debug] [2022-11-04T14:56:41.520Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/vision-zero-606ac/configs {}
[info] i  functions: preparing codebase default for deployment 
[debug] [2022-11-04T14:56:41.522Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2022-11-04T14:56:43.080Z] > [functions] package.json contents: {
  "name": "vision-zero",
  "version": "1.0.0",
  "description": "Refer to the assignment for most of the details of the project",
  "main": "src/index.js",
  "scripts": {
    "start": "nodemon src/index.js"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "body-parser": "^1.19.1",
    "bootstrap": "^5.1.3",
    "bulma": "^0.9.3",
    "casual": "^1.6.2",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "cors-anywhere": "^0.4.4",
    "ejs": "^3.1.6",
    "express": "^4.17.3",
    "firebase": "^9.6.6",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.19.0",
    "stripe": "^8.219.0"
  },
  "devDependencies": {
    "cypress": "^9.3.1",
    "nodemon": "^2.0.15"
  }
}
[debug] [2022-11-04T14:56:43.080Z] Building nodejs source
[debug] [2022-11-04T14:56:43.081Z] Analyzing nodejs backend spec
[error] 
[error] Error: There was an unknown problem while trying to parse function triggers.
[debug] [2022-11-04T14:57:16.314Z] ----------------------------------------------------------------------
[debug] [2022-11-04T14:57:16.315Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2022-11-04T14:57:16.317Z] CLI Version:   10.7.1
[debug] [2022-11-04T14:57:16.317Z] Platform:      darwin
[debug] [2022-11-04T14:57:16.317Z] Node Version:  v16.13.1
[debug] [2022-11-04T14:57:16.318Z] Time:          Fri Nov 04 2022 10:57:16 GMT-0400 (Eastern Daylight Time)
[debug] [2022-11-04T14:57:16.319Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-11-04T14:57:16.475Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-11-04T14:57:16.476Z] > authorizing via signed-in user (stntsai93@gmail.com)
[debug] [2022-11-04T14:57:16.477Z] [iam] checking project vision-zero-606ac for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2022-11-04T14:57:16.479Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/vision-zero-606ac:testIamPermissions [none]
[debug] [2022-11-04T14:57:16.480Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/vision-zero-606ac:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2022-11-04T14:57:16.594Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/vision-zero-606ac:testIamPermissions 200
[debug] [2022-11-04T14:57:16.596Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/vision-zero-606ac:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2022-11-04T14:57:16.596Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/vision-zero-606ac/serviceAccounts/vision-zero-606ac@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2022-11-04T14:57:16.597Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/vision-zero-606ac/serviceAccounts/vision-zero-606ac@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2022-11-04T14:57:16.711Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/vision-zero-606ac/serviceAccounts/vision-zero-606ac@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2022-11-04T14:57:16.711Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/vision-zero-606ac/serviceAccounts/vision-zero-606ac@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2022-11-04T14:57:16.712Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac [none]
[debug] [2022-11-04T14:57:16.962Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac 200
[debug] [2022-11-04T14:57:16.963Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac {"projectId":"vision-zero-606ac","projectNumber":"99095937222","displayName":"Vision Zero","name":"projects/vision-zero-606ac","resources":{"hostingSite":"vision-zero-606ac","storageBucket":"vision-zero-606ac.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_97e4df63-bf19-4700-be33-537583b249ad"}
[info] 
[info] === Deploying to 'vision-zero-606ac'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2022-11-04T14:57:16.967Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac [none]
[debug] [2022-11-04T14:57:17.346Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac 200
[debug] [2022-11-04T14:57:17.347Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac {"projectId":"vision-zero-606ac","projectNumber":"99095937222","displayName":"Vision Zero","name":"projects/vision-zero-606ac","resources":{"hostingSite":"vision-zero-606ac","storageBucket":"vision-zero-606ac.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_97e4df63-bf19-4700-be33-537583b249ad"}
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2022-11-04T14:57:17.348Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudfunctions.googleapis.com [none]
[debug] [2022-11-04T14:57:17.356Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/runtimeconfig.googleapis.com [none]
[debug] [2022-11-04T14:57:17.357Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudbuild.googleapis.com [none]
[debug] [2022-11-04T14:57:17.366Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/artifactregistry.googleapis.com [none]
[debug] [2022-11-04T14:57:17.711Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudfunctions.googleapis.com 200
[debug] [2022-11-04T14:57:17.713Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2022-11-04T14:57:17.725Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/runtimeconfig.googleapis.com 200
[debug] [2022-11-04T14:57:17.726Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/runtimeconfig.googleapis.com [omitted]
[debug] [2022-11-04T14:57:17.727Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudbuild.googleapis.com 200
[debug] [2022-11-04T14:57:17.727Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2022-11-04T14:57:17.763Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/artifactregistry.googleapis.com 200
[debug] [2022-11-04T14:57:17.764Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/vision-zero-606ac/services/artifactregistry.googleapis.com [omitted]
[debug] [2022-11-04T14:57:17.765Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac/adminSdkConfig [none]
[debug] [2022-11-04T14:57:17.932Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac/adminSdkConfig 200
[debug] [2022-11-04T14:57:17.932Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/vision-zero-606ac/adminSdkConfig {"projectId":"vision-zero-606ac","storageBucket":"vision-zero-606ac.appspot.com","locationId":"us-central"}
[debug] [2022-11-04T14:57:17.933Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/vision-zero-606ac/configs [none]
[debug] [2022-11-04T14:57:18.079Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/vision-zero-606ac/configs 200
[debug] [2022-11-04T14:57:18.079Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/vision-zero-606ac/configs {}
[info] i  functions: preparing codebase default for deployment 
[debug] [2022-11-04T14:57:18.081Z] Validating nodejs source
[debug] [2022-11-04T14:57:19.669Z] > [functions] package.json contents: {
  "name": "vision-zero",
  "version": "1.0.0",
  "description": "Refer to the assignment for most of the details of the project",
  "main": "src/index.js",
  "scripts": {
    "start": "nodemon src/index.js"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "body-parser": "^1.19.1",
    "bootstrap": "^5.1.3",
    "bulma": "^0.9.3",
    "casual": "^1.6.2",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "cors-anywhere": "^0.4.4",
    "ejs": "^3.1.6",
    "express": "^4.17.3",
    "firebase": "^9.6.6",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^4.0.2",
    "stripe": "^8.219.0"
  },
  "devDependencies": {
    "cypress": "^9.3.1",
    "nodemon": "^2.0.15"
  }
}
[debug] [2022-11-04T14:57:19.669Z] Building nodejs source
[debug] [2022-11-04T14:57:19.670Z] Analyzing nodejs backend spec
[error] 
[error] Error: There was an unknown problem while trying to parse function triggers.
